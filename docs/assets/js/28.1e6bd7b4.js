(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{216:function(t,r,a){"use strict";a.r(r);var e=a(6),_=Object(e.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"部署和配置最佳实践"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#部署和配置最佳实践"}},[t._v("#")]),t._v(" 部署和配置最佳实践")]),t._v(" "),r("h2",{attrs:{id:"概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),r("p",[t._v("本文档将对 Discuz! Q 典型应用场景下的最佳实践方式进行介绍与指导 ，在部署和配置 Discuz! Q 中，您可以参考本文档进行部署和配置。")]),t._v(" "),r("h2",{attrs:{id:"部署"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[t._v("#")]),t._v(" 部署")]),t._v(" "),r("p",[t._v("官方提供详细的 Discuz! Q 安装部署文档，您可以根据您的具体需求参考对应的安装部署指南进行部署。详情参见： "),r("a",{attrs:{href:"https://discuz.com/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Discuz! Q 安装部署指南"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("h2",{attrs:{id:"开发"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开发"}},[t._v("#")]),t._v(" 开发")]),t._v(" "),r("p",[t._v("若您需对 Discuz! Q 进行二次开发，官方提供详细的 Discuz! Q 2. 二次开发部署\n，您可以参考二次开发部署进行安装部署。详情参见： "),r("a",{attrs:{href:"https://discuz.com/docs/%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91%E9%83%A8%E7%BD%B2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("二次开发部署"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("h2",{attrs:{id:"管理端配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#管理端配置"}},[t._v("#")]),t._v(" 管理端配置")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),r("p",[t._v("以下推荐配置相对较严格，请根据您的实际需求进行选择配置。")])]),t._v(" "),r("h3",{attrs:{id:"开启验证码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开启验证码"}},[t._v("#")]),t._v(" 开启验证码")]),t._v(" "),r("p",[t._v("在 Discuz! Q 管理后台中，依次单击【全局】>【腾讯云设置】>【验证码】，开启腾讯云验证码服务。详细操作参见 Discuz! Q 后台使用手册： "),r("a",{attrs:{href:"https://discuz.com/manual-admin/2.html#_2-7-%E8%85%BE%E8%AE%AF%E4%BA%91%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[t._v("验证码"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://main.qcloudimg.com/raw/ba86ab072b9c8f6a4143d7222b8b1a09.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"注册登录安全配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#注册登录安全配置"}},[t._v("#")]),t._v(" 注册登录安全配置")]),t._v(" "),r("p",[t._v("在 Discuz! Q 管理后台中，进行以下操作：")]),t._v(" "),r("ul",[r("li",[t._v("在【全局】 ->【注册与登录设置】 处勾选【新用户注册审核】。")]),t._v(" "),r("li",[t._v("在【全局】 -> 【注册与登录设置】处勾选【新用户注册启用验证码】。")]),t._v(" "),r("li",[t._v("在【全局】 ->【注册与登录设置】-> 【注册密码最小长度】处，输入10 或10以上数字，设置注册密码长度。")]),t._v(" "),r("li",[t._v("在【全局】->【注册与登录设置】 -> 【密码字符类型】处，勾选3种或3种类型以上。")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://main.qcloudimg.com/raw/6181bf6fe1f1ab95543c3f1a165c9e1c.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"内容发布安全配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#内容发布安全配置"}},[t._v("#")]),t._v(" 内容发布安全配置")]),t._v(" "),r("p",[t._v("在 Discuz 管理后台中，开启以下服务：")]),t._v(" "),r("ul",[r("li",[t._v("在【全局】 -> 【腾讯云设置】中，开启【实名认证】服务。详细操作参见 Discuz! Q 后台使用手册： "),r("a",{attrs:{href:"https://discuz.com/manual-admin/2.html#_2-7-5-%E5%AE%9E%E5%90%8D%E8%AE%A4%E8%AF%81",target:"_blank",rel:"noopener noreferrer"}},[t._v("实名认证"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("li",[t._v("在【全局】 -> 【腾讯云设置】中，开启【短信】服务。详细操作参见 Discuz! Q 后台使用手册： "),r("a",{attrs:{href:"https://discuz.com/manual-admin/2.html#_2-7-4-%E7%9F%AD%E4%BF%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("短信"),r("OutboundLink")],1),t._v("。")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://main.qcloudimg.com/raw/a7d31358c59e8f3eb589025c6d911948.png",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("在【全局】 -> 【腾讯云设置】中，开启【图片内容安全】。详细操作参见 Discuz! Q 后台使用手册： "),r("a",{attrs:{href:"https://discuz.com/manual-admin/2.html#_2-7-%E8%85%BE%E8%AE%AF%E4%BA%91%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[t._v("图片内容安全"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("li",[t._v("在【全局】 -> 【腾讯云设置】中，开启【文本内容安全】。详细操作参见 Discuz! Q 后台使用手册： "),r("a",{attrs:{href:"https://discuz.com/manual-admin/2.html#_2-7-%E8%85%BE%E8%AE%AF%E4%BA%91%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[t._v("文本内容安全"),r("OutboundLink")],1),t._v("。")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://main.qcloudimg.com/raw/0a7c68a8e41425907a4d53ae25e9d0b3.png",alt:""}})]),t._v(" "),r("p",[t._v("【全局】-> 【内容过滤设置】，按需自定义配置。")]),t._v(" "),r("p",[t._v("并在 Discuz! Q 管理后台中，进行以下操作：")]),t._v(" "),r("ul",[r("li",[t._v("在【用户】->【用户角色】->【所有角色的设置】->【短信】->【安全设置】下，勾选发布相关的“验证码”、“实名认证”、“绑定手机” 。如下图所示：")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://main.qcloudimg.com/raw/176ebf48d7d95d65846d7cdb05bebeb8.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"其它补充说明"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#其它补充说明"}},[t._v("#")]),t._v(" 其它补充说明")]),t._v(" "),r("p",[t._v("若同时使用"),r("strong",[t._v("小程序")]),t._v("和 "),r("strong",[t._v("H5")]),t._v("，请务必在 "),r("a",{attrs:{href:"open.weixin.qq.com"}},[t._v("微信开发平台")]),t._v("绑定公众号和小程序，否则会出现访问小程序和H5时，同一个微信号产生不同的账号问题，详细配置方法，请参见："),r("a",{attrs:{href:"https://discuz.com/manual-admin/2.html#_2-3-%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[t._v("第三方登录设置"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("h2",{attrs:{id:"安全配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安全配置"}},[t._v("#")]),t._v(" 安全配置")]),t._v(" "),r("h3",{attrs:{id:"网络安全配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#网络安全配置"}},[t._v("#")]),t._v(" 网络安全配置")]),t._v(" "),r("ul",[r("li",[t._v("接入腾讯云 "),r("a",{attrs:{href:"https://cloud.tencent.com/product/ddos",target:"_blank",rel:"noopener noreferrer"}},[t._v("DDoS 防护"),r("OutboundLink")],1),t._v(" ，详情请参见 "),r("a",{attrs:{href:"https://cloud.tencent.com/document/product/1020",target:"_blank",rel:"noopener noreferrer"}},[t._v("DDoS 防护"),r("OutboundLink")],1),t._v(" 文档。")]),t._v(" "),r("li",[t._v("接入腾讯云"),r("a",{attrs:{href:"https://cloud.tencent.com/product/waf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web 应用防火墙"),r("OutboundLink")],1),t._v("，详情请参见 "),r("a",{attrs:{href:"https://cloud.tencent.com/document/product/627",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web 应用防火墙"),r("OutboundLink")],1),t._v(" 文档。")])]),t._v(" "),r("h3",{attrs:{id:"主机安全配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#主机安全配置"}},[t._v("#")]),t._v(" 主机安全配置")]),t._v(" "),r("ul",[r("li",[t._v("若您使用腾讯云云服务器 CVM 部署，建议您进行安全组设置，服务器端口只放通 80/443 端口，不放通其他端口。详情请参见："),r("a",{attrs:{href:"https://cloud.tencent.com/document/product/213/15377",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置安全组"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("li",[t._v("禁止可执行脚本上传至服务器。")]),t._v(" "),r("li",[t._v("Discuz! Q 进程运行用户禁止使用 root 权限。")])]),t._v(" "),r("h3",{attrs:{id:"账户安全配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#账户安全配置"}},[t._v("#")]),t._v(" 账户安全配置")]),t._v(" "),r("ul",[r("li",[t._v("admin 管理端不对外网展示，外网限制 ip 白名单访问。")]),t._v(" "),r("li",[t._v("管理员密码禁止为弱口令。")]),t._v(" "),r("li",[t._v("权限组配置非管理员用户禁止赋予编辑及高级权限。")])]),t._v(" "),r("h3",{attrs:{id:"内容安全配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#内容安全配置"}},[t._v("#")]),t._v(" 内容安全配置")]),t._v(" "),r("ul",[r("li",[t._v("内容审核接入腾讯云"),r("a",{attrs:{href:"https://cloud.tencent.com/product/tms",target:"_blank",rel:"noopener noreferrer"}},[t._v("文本内容安全"),r("OutboundLink")],1),t._v(" 。")]),t._v(" "),r("li",[t._v("内容防刷接入腾讯云"),r("a",{attrs:{href:"https://cloud.tencent.com/product/captcha",target:"_blank",rel:"noopener noreferrer"}},[t._v("验证码"),r("OutboundLink")],1),t._v("。")])]),t._v(" "),r("h3",{attrs:{id:"代码安全"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#代码安全"}},[t._v("#")]),t._v(" 代码安全")]),t._v(" "),r("ul",[r("li",[t._v("二次开发完成后可采用代码安全扫描工具进行安全扫描后在进行部署。")]),t._v(" "),r("li",[t._v("禁止或尽量避免代码中使用不可控的 shell 脚本执行函数。")])]),t._v(" "),r("h3",{attrs:{id:"数据安全"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#数据安全"}},[t._v("#")]),t._v(" 数据安全")]),t._v(" "),r("ul",[r("li",[t._v("避免使用主机的自建数据库，建议使用 "),r("a",{attrs:{href:"https://cloud.tencent.com/product/cdb",target:"_blank",rel:"noopener noreferrer"}},[t._v("云数据库"),r("OutboundLink")],1),t._v(" 进行部署。")])]),t._v(" "),r("h2",{attrs:{id:"站点加速配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#站点加速配置"}},[t._v("#")]),t._v(" 站点加速配置")]),t._v(" "),r("p",[t._v("站点可根据需求接入"),r("a",{attrs:{href:"https://cloud.tencent.com/product/cdn",target:"_blank",rel:"noopener noreferrer"}},[t._v(" 腾讯云内容分发网络 CDN"),r("OutboundLink")],1),t._v(" 进行站点加速。")])])}),[],!1,null,null,null);r.default=_.exports}}]);